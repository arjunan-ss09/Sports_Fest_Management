{% extends "management/base.html" %}
{% load static %}
{% block content %}
<div class="container mt-4">
  <h2 class="text-center mb-4">Overall Leaderboard</h2>
  <div class="table-responsive">
    <table class="table table-bordered table-hover">
      <thead class="table-dark">
        <tr>
          <th scope="col">Rank</th>
          <th scope="col">College</th>
          <th scope="col">Points</th>
        </tr>
      </thead>
      <tbody>
        {% for college, points in leaderboard %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ college.name }}</td>
          <td>{{ points }}</td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="3" class="text-center">No data available.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <div class="text-center mt-3">
    {% if user.is_staff %}
      <a href="{% url 'download_leaderboard_excel' 'overall' %}" class="btn btn-primary">Download as Excel</a>
    {% endif %}
  </div>
  <div class="text-center mt-3">
    <a href="{% url 'leaderboards' %}" class="btn btn-secondary">Back to Leaderboards</a>
  </div>
</div>
{% endblock %}
